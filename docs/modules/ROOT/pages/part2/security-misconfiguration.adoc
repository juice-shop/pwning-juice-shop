= Security Misconfiguration

include::../attributes.adoc[]

[discrete]
== Challenges covered in this chapter

|===
| Name | Description | Difficulty

| Cross-Site Imaging
| Stick cute cross-domain kittens all over our delivery boxes.
| ⭐⭐⭐⭐⭐

| Deprecated Interface
| Use a deprecated B2B interface that was not properly shut down.
| ⭐⭐

| Error Handling
| Provoke an error that is neither very gracefully nor consistently handled.
| ⭐

| Login Support Team
| Log in with the support team's original user credentials without applying SQL Injection or any other bypass.
| ⭐⭐⭐⭐⭐⭐
|===

== Stick cute cross-domain kittens all over our delivery boxes

The Juice Shop offers a _Deluxe Membership_ that comes with reduced
delivery fees and other perks. On the page advertising it, a heap of
delivery boxes can be seen - all with the Juice Shop logo on them.

image::part2/deluxe-membership_page.png[Vanilla Deluxe Membership page]

include::partial$hints/svgInjectionChallenge.adoc[]

== Use a deprecated B2B interface that was not properly shut down

The Juice Shop represents a classic Business-to-Consumer (B2C)
application, but it also has some enterprise customers for which it
would be inconvenient to order large quantities of juice through the
webshop UI. For those customers there is a dedicated B2B interface.

include::partial$hints/deprecatedInterfaceChallenge.adoc[]

== Provoke an error that is neither very gracefully nor consistently handled

The OWASP Juice Shop is quite _forgiving_ when it comes to bad input,
broken requests or other failure situations. It is just not very
sophisticated at _handling_ errors properly. You can harvest a lot of
interesting information from error messages that contain too much
information. Sometimes you will even see error messages that should not
be visible at all.

____
Applications can unintentionally leak information about their
configuration, internal workings, or violate privacy through a variety
of application problems. Applications can also leak internal state via
how long they take to process certain operations or via different
responses to differing inputs, such as displaying the same error text
with different error numbers. Web applications will often leak
information about their internal state through detailed or debug error
messages. Often, this information can be leveraged to launch or even
automate more powerful attacks.footnote:3_8_1[https://wiki.owasp.org/index.php/Top_10_2007-Information_Leakage]
____

include::partial$hints/errorHandlingChallenge.adoc[]

If you see the success notification for this challenge but no error
message on screen, the error was probably logged on the JavaScript
console of the browser. You were supposed to have it open all the time
anyway, remember?

== Log in with the support team's original user credentials

This is another _follow-the-breadcrumbs_ challenge of the tougher sort.
As a little background story, imagine that the OWASP Juice Shop was
developed in the _classic style_: The development team wrote the code
and then threw it over the fence to an operations and support team to
run and troubleshoot the application. Not the slightest sign of
https://en.wikipedia.org/wiki/DevOps[DevOps] culture here.

include::partial$hints/loginSupportChallenge.adoc[]
